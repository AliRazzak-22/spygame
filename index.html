<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Ù„Ø¹Ø¨Ø© Ø§Ù„Ø¬Ø§Ø³ÙˆØ³ - Ø§Ù„Ù†Ø³Ø®Ø© Ø§Ù„Ù…Ù„ÙƒÙŠØ©</title>
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700;900&display=swap" rel="stylesheet">
    <style>
        /* --- CSS: Ø§Ù„ØªØµÙ…ÙŠÙ… Ø§Ù„ÙØ§Ø®Ø± --- */
        :root {
            --gold: #d4af37;
            --dark-gold: #aa8c2c;
            --black-bg: #1a1a1a;
            --glass: rgba(30, 30, 30, 0.85);
            --danger: #c0392b;
            --success: #27ae60;
            --text-main: #ecf0f1;
        }

        body {
            font-family: 'Tajawal', sans-serif;
            background-color: var(--black-bg);
            /* Ø®Ù„ÙÙŠØ© ØºØ§Ù…Ø¶Ø© ÙˆÙØ®Ù…Ø© */
            background-image: linear-gradient(rgba(0, 0, 0, 0.8), rgba(0, 0, 0, 0.9)), url('https://images.unsplash.com/photo-1550684848-fac1c5b4e853?q=80&w=2070');
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
            color: var(--text-main);
            margin: 0;
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow-x: hidden;
        }

        /* Ø§Ù„Ø­Ø§ÙˆÙŠØ© Ø§Ù„Ø²Ø¬Ø§Ø¬ÙŠØ© */
        .container {
            background: var(--glass);
            backdrop-filter: blur(15px);
            -webkit-backdrop-filter: blur(15px);
            padding: 30px;
            border-radius: 25px;
            box-shadow: 0 20px 50px rgba(0,0,0,0.8);
            width: 90%;
            max-width: 480px;
            border: 1px solid rgba(212, 175, 55, 0.2); /* Ø¥Ø·Ø§Ø± Ø°Ù‡Ø¨ÙŠ Ø®ÙÙŠÙ */
            text-align: center;
            position: relative;
            animation: fadeIn 0.8s ease-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Ø§Ù„Ù†ØµÙˆØµ */
        h1 { 
            color: var(--gold); 
            margin: 0 0 20px 0; 
            font-weight: 900; 
            letter-spacing: 1px;
            text-shadow: 0 2px 10px rgba(212, 175, 55, 0.3);
        }
        
        p { font-size: 16px; line-height: 1.6; color: #bdc3c7; }

       /* Ø§Ù„ØªÙˆÙ‚ÙŠØ¹ (ØªÙ… Ù†Ù‚Ù„Ù‡ Ù„Ù„ÙŠÙ…ÙŠÙ†) */
        .credits {
            position: absolute; /* ØªØ­Ø±ÙŠØ± Ø§Ù„Ø¹Ù†ØµØ± Ù…Ù† Ù…ÙƒØ§Ù†Ù‡ */
            top: 20px;          /* Ù†ÙØ³ Ø§Ø±ØªÙØ§Ø¹ Ø²Ø± Ø§Ù„Ø´Ø±Ø­ */
            right: 20px;        /* ÙˆØ¶Ø¹Ù‡ ÙÙŠ Ø£Ù‚ØµÙ‰ Ø§Ù„ÙŠÙ…ÙŠÙ† */
            font-size: 11px;
            color: var(--gold);
            border: 1px solid var(--gold);
            padding: 5px 15px;
            border-radius: 50px;
            background: rgba(0,0,0,0.3);
        }

        /* Ø­Ù‚ÙˆÙ„ Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„ */
        textarea, input {
            width: 100%;
            padding: 15px;
            margin-bottom: 20px;
            border-radius: 15px;
            border: 2px solid #444;
            background-color: rgba(255,255,255,0.05);
            color: white;
            font-size: 16px;
            font-family: inherit;
            box-sizing: border-box;
            transition: 0.3s;
        }
        textarea:focus { border-color: var(--gold); outline: none; background-color: rgba(255,255,255,0.1); }

        /* Ø§Ù„Ø£Ø²Ø±Ø§Ø± */
        button {
            width: 100%;
            padding: 16px;
            margin-bottom: 12px;
            border-radius: 15px;
            border: none;
            font-size: 18px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
            color: #1a1a1a;
            background: linear-gradient(45deg, var(--gold), var(--dark-gold));
            box-shadow: 0 5px 15px rgba(212, 175, 55, 0.3);
            font-family: 'Tajawal', sans-serif;
        }

        button:active { transform: scale(0.98); box-shadow: none; }
        
        button.secondary { 
            background: #444; 
            color: white; 
            box-shadow: 0 5px 15px rgba(0,0,0,0.3); 
        }
        
        button.vote-btn {
            background: linear-gradient(45deg, #8e44ad, #6c3483);
            color: white;
            font-size: 16px;
            margin-bottom: 8px;
        }

        /* Ø§Ù„ÙØ¦Ø§Øª */
        .category-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
        }
        .category-btn {
            background: rgba(255,255,255,0.1);
            color: var(--gold);
            border: 1px solid var(--gold);
            box-shadow: none;
        }
        .category-btn:hover { background: var(--gold); color: #000; }

        /* --- ØªØµÙ…ÙŠÙ… Ø§Ù„Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„Ù‚Ù„Ø§Ø¨Ø© (3D Flip Card) --- */
        .flip-card {
            background-color: transparent;
            width: 280px;
            height: 350px;
            perspective: 1000px;
            margin: 20px auto;
            cursor: pointer;
        }

        .flip-card-inner {
            position: relative;
            width: 100%;
            height: 100%;
            text-align: center;
            transition: transform 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            transform-style: preserve-3d;
        }

        .flip-card.flipped .flip-card-inner {
            transform: rotateY(180deg);
        }

        .flip-card-front, .flip-card-back {
            position: absolute;
            width: 100%;
            height: 100%;
            -webkit-backface-visibility: hidden;
            backface-visibility: hidden;
            border-radius: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
            border: 2px solid var(--gold);
        }

        /* ÙˆØ¬Ù‡ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø© (ØºØ§Ù…Ø¶) */
        .flip-card-front {
            background: linear-gradient(135deg, #111, #222);
            color: var(--gold);
        }
        .flip-card-front span { font-size: 60px; margin-bottom: 10px; }
        .tap-hint { font-size: 14px; opacity: 0.7; animation: pulse 1.5s infinite; }

        /* Ø¸Ù‡Ø± Ø§Ù„Ø¨Ø·Ø§Ù‚Ø© (Ø§Ù„ÙƒØ´Ù) */
        .flip-card-back {
            background: #fff;
            color: #2c3e50;
            transform: rotateY(180deg);
            background-image: url('https://www.transparenttextures.com/patterns/cubes.png'); /* Ø²Ø®Ø±ÙØ© Ø®ÙÙŠÙØ© */
        }

        .word-reveal {
            font-size: 38px;
            font-weight: 900;
            margin: 15px 0;
            display: block;
        }

        @keyframes pulse {
            0% { opacity: 0.5; } 50% { opacity: 1; } 100% { opacity: 0.5; }
        }

        /* --- Ø¬Ø¯Ø§ÙˆÙ„ ÙˆÙ†ØªØ§Ø¦Ø¬ --- */
        .score-table {
            width: 100%;
            margin-top: 15px;
            border-collapse: collapse;
            font-size: 16px;
        }
        .score-table th { color: var(--gold); padding: 10px; border-bottom: 1px solid #444; }
        .score-table td { padding: 10px; border-bottom: 1px solid #333; }
        
        .hidden { display: none; }

        /* Ø£ÙŠÙ‚ÙˆÙ†Ø§Øª Ø§Ù„Ø­Ø§Ù„Ø© */
        .status-icon { font-size: 50px; margin-bottom: 15px; display: block; }

    </style>
</head>
<body>

    <div class="container">
        
        <div id="screen-setup">
            <button onclick="showTutorial()" style="position: absolute; top: 20px; left: 20px; width: auto; padding: 8px 15px; font-size: 14px; background: rgba(0,0,0,0.4); border: 1px solid #d4af37; color: #d4af37; border-radius: 20px; z-index: 10;">â“ Ø´Ø±Ø­ Ø§Ù„Ù„Ø¹Ø¨Ø©</button>
            <div class="credits">ØªÙ… Ø§Ù„ØªØ·ÙˆÙŠØ± Ø¨ÙˆØ§Ø³Ø·Ø©: Ø¹Ù„ÙŠ Ø±Ø²Ø§Ù‚ ğŸ’</div>
            <h1>ğŸ•µï¸ Ø§Ù„Ø¬Ø§Ø³ÙˆØ³ Ø§Ù„Ù…Ø­ØªØ±Ù</h1>
            <p>Ø³Ø¬Ù„ Ø£Ø³Ù…Ø§Ø¡ Ø§Ù„Ù„Ø§Ø¹Ø¨ÙŠÙ† (ÙƒÙ„ Ø§Ø³Ù… ÙÙŠ Ø³Ø·Ø±):</p>
            <textarea id="playerNamesInput" placeholder="Ø¹Ù„ÙŠ&#10;Ù…Ø­Ù…Ø¯&#10;Ø­Ø³ÙŠÙ†&#10;Ø²ÙŠØ¯"></textarea>
            <button onclick="processNames()">Ø¨Ø¯Ø¡ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯</button>
        </div>

        <div id="screen-difficulty" class="hidden">
            <h1>Ù…Ø³ØªÙˆÙ‰ Ø§Ù„ØªØ­Ø¯ÙŠ</h1>
            <button onclick="showRules('hard')">ğŸ”¥ ØµØ¹Ø¨ (ØªÙ…ÙˆÙŠÙ‡ ÙƒØ§Ù…Ù„)</button>
            <button class="secondary" onclick="showRules('easy')">ğŸ˜Œ Ø³Ù‡Ù„ (Ø§Ù„Ø¬Ø§Ø³ÙˆØ³ ÙŠØ¹Ø±Ù Ù†ÙØ³Ù‡)</button>
        </div>

        <div id="screen-rules" class="hidden">
            <h2 id="rulesTitle" style="color:var(--gold)"></h2>
            <div style="text-align: right; background: rgba(255,255,255,0.05); padding: 15px; border-radius: 10px; margin-bottom: 20px;">
                <ul id="rulesList" style="padding-right: 20px; margin: 0; font-size: 15px;"></ul>
            </div>
            <button onclick="confirmDifficulty()">Ù…ÙˆØ§ÙÙ‚ØŒ Ø§Ù†Ø·Ù„Ù‚</button>
            <button class="secondary" onclick="goBackToDifficulty()">Ø±Ø¬ÙˆØ¹</button>
        </div>

        <div id="screen-category" class="hidden">
            <h1>Ø§Ø®ØªØ± Ø§Ù„Ù…ÙˆØ¶ÙˆØ¹</h1>
            <div class="category-grid">
                <button class="category-btn" onclick="startGame('football')">âš½ ÙƒØ±Ø© Ù‚Ø¯Ù…</button>
                <button class="category-btn" onclick="startGame('animals')">ğŸ¦ Ø­ÙŠÙˆØ§Ù†Ø§Øª</button>
                <button class="category-btn" onclick="startGame('babalhara')">ğŸšª Ø¨Ø§Ø¨ Ø§Ù„Ø­Ø§Ø±Ø©</button>
                <button class="category-btn" onclick="startGame('food')">ğŸ› Ø£ÙƒÙ„Ø§Øª</button>
                <button class="category-btn" onclick="startGame('cities')">ğŸŒ Ù…Ø¯Ù†</button>
                <button class="category-btn" onclick="startGame('tech')">ğŸ’» ØªÙƒÙ†ÙˆÙ„ÙˆØ¬ÙŠØ§</button>
            </div>
        </div>

        <div id="screen-pass" class="hidden">
            <span class="status-icon">ğŸ“±</span>
            <h1>Ø³Ù„Ù… Ø§Ù„Ù‡Ø§ØªÙ Ù„Ù€</h1>
            <h2 id="currentPlayerName" style="color: var(--gold); font-size: 40px; margin: 20px 0;">...</h2>
            <button onclick="showRoleScreen()">Ø£Ù†Ø§ Ù‡ÙˆØŒ Ø£Ø±Ù†ÙŠ Ø¯ÙˆØ±ÙŠ</button>
        </div>

        <div id="screen-reveal" class="hidden">
            <p>Ø£Ù‡Ù„Ø§Ù‹ <span id="revealName" style="color: var(--gold); font-weight: bold;"></span></p>
            
            <div class="flip-card" onclick="flipCard()">
                <div class="flip-card-inner">
                    <div class="flip-card-front">
                        <span>ğŸ•µï¸â€â™‚ï¸</span>
                        <p style="font-size: 20px; font-weight: bold;">Ø§Ø¶ØºØ· Ù„ÙƒØ´Ù Ø§Ù„Ø³Ø±</p>
                        <p class="tap-hint">(Ø§Ù†Ù‚Ø± Ù„Ù‚Ù„Ø¨ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø©)</p>
                    </div>
                    <div class="flip-card-back">
                        <p style="color: #7f8c8d; font-size: 14px; margin-bottom: 5px;">ÙƒÙ„Ù…ØªÙƒ Ø§Ù„Ø³Ø±ÙŠØ©:</p>
                        <span id="theWord" class="word-reveal">...</span>
                        <div style="width: 80%; height: 2px; background: #eee; margin: 10px auto;"></div>
                        <p id="spyHint" style="font-size: 13px; color: #555; padding: 0 10px;">...</p>
                    </div>
                </div>
            </div>

            <button onclick="nextPlayer()">Ø­ÙØ¸Øª Ø§Ù„ÙƒÙ„Ù…Ø© (Ø§Ù„ØªØ§Ù„ÙŠ)</button>
        </div>

        <div id="screen-discussion" class="hidden">
            <span class="status-icon">ğŸ—£ï¸</span>
            <h1>Ø¨Ø¯Ø£ Ø§Ù„Ù†Ù‚Ø§Ø´!</h1>
            <p>Ø§Ù„Ø¢Ù†ØŒ Ù„ÙŠØªØ­Ø¯Ø« Ø§Ù„Ø¬Ù…ÙŠØ¹ Ø¹Ù† ÙƒÙ„Ù…ØªÙ‡Ù… Ø¨Ø¬Ù…Ù„Ø© ÙˆØ§Ø­Ø¯Ø©.</p>
            <div style="background: rgba(192, 57, 43, 0.2); padding: 15px; border-radius: 10px; border: 1px solid var(--danger);">
                <p style="color: #ffadad; margin:0;">âš ï¸ Ø§Ù†ØªØ¨Ù‡ÙˆØ§! Ø§Ù„Ø¬Ø§Ø³ÙˆØ³ Ø¨ÙŠÙ†ÙƒÙ… ÙˆÙŠØ­Ø§ÙˆÙ„ Ø§Ù„Ø§Ù†Ø¯Ù…Ø§Ø¬.</p>
            </div>
            <br>
            <button onclick="startVotingSetup()">Ø§Ù†ØªÙ‡Ù‰ Ø§Ù„ÙˆÙ‚Øª (Ø§Ù„ØªØµÙˆÙŠØª)</button>
        </div>

        <div id="screen-vote-pass" class="hidden">
            <h1>ğŸ—³ï¸ ØªØµÙˆÙŠØª Ø³Ø±ÙŠ</h1>
            <p>Ø£Ø¹Ø·Ù Ø§Ù„Ù‡Ø§ØªÙ Ø¥Ù„Ù‰:</p>
            <h2 id="currentVoterName" style="color: var(--gold); font-size: 35px;">...</h2>
            <button onclick="showVotingScreen()">Ø¬Ø§Ù‡Ø² Ù„Ù„ØªØµÙˆÙŠØª</button>
        </div>

        <div id="screen-vote-action" class="hidden">
            <h3>ÙŠØ§ <span id="voterNameAction" style="color:var(--gold)"></span>ØŒ Ù…Ù† ØªØªÙ‡Ù…ØŸ</h3>
            <div id="votingButtonsContainer"></div>
        </div>

        <div id="screen-results" class="hidden">
            <h1>ğŸ Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ©</h1>
            
            <div style="background: white; color: #333; padding: 20px; border-radius: 15px; margin-bottom: 20px; box-shadow: 0 5px 15px rgba(0,0,0,0.5);">
                <p style="font-size: 14px; margin-top:0;">Ø§Ù„Ø¬Ø§Ø³ÙˆØ³ Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠ:</p>
                <h2 id="realSpyName" style="color: var(--danger); font-size: 30px; margin: 5px 0;"></h2>
                <hr style="border:0; border-top:1px dashed #ccc;">
                <div style="display: flex; justify-content: space-around;">
                    <div>
                        <small>Ø§Ù„Ù…ÙˆØ§Ø·Ù†ÙŠÙ†</small><br>
                        <b id="citizenWordDisplay" style="color: var(--success); font-size: 18px;"></b>
                    </div>
                    <div>
                        <small>Ø§Ù„Ø¬Ø§Ø³ÙˆØ³</small><br>
                        <b id="spyWordResultDisplay" style="color: var(--danger); font-size: 18px;"></b>
                    </div>
                </div>
            </div>

            <h3>ğŸ† ØªØ±ØªÙŠØ¨ Ø§Ù„Ù†Ù‚Ø§Ø·</h3>
            <table class="score-table">
                <tbody id="scoreTableBody"></tbody>
            </table>
            <br>
            <button onclick="playAgain()">Ø¬ÙˆÙ„Ø© Ø£Ø®Ø±Ù‰ (Ù†ÙØ³ Ø§Ù„Ù„Ø§Ø¹Ø¨ÙŠÙ†)</button>
            <button class="secondary" onclick="location.reload()">Ø®Ø±ÙˆØ¬ / Ù„Ø¹Ø¨Ø© Ø¬Ø¯ÙŠØ¯Ø©</button>
        </div>
<div id="screen-tutorial" class="hidden">
            <h1 style="color: var(--gold); margin-bottom: 20px;">ğŸ“œ ÙƒÙŠÙ ØªÙ„Ø¹Ø¨ØŸ</h1>
            
            <div style="text-align: right; background: rgba(255,255,255,0.05); padding: 20px; border-radius: 15px; border: 1px solid #444; margin-bottom: 20px; line-height: 1.8;">
                <p style="font-size: 16px; color: #fff;">
                    <b>Ù„Ø¹Ø¨Ø© Ø§Ù„Ø¬Ø§Ø³ÙˆØ³</b> Ù‡ÙŠ ØªØ­Ø¯Ù Ø¹Ø§Ù„Ù…ÙŠ Ù„Ù„Ù…Ø¬Ù…ÙˆØ¹Ø§Øª (3 Ù„Ø§Ø¹Ø¨ÙŠÙ† Ø£Ùˆ Ø£ÙƒØ«Ø±).
                </p>
                <p style="font-size: 15px; color: #ccc;">
                    ğŸ•µï¸â€â™‚ï¸ <b>Ø§Ù„ÙÙƒØ±Ø©:</b> Ø§Ù„Ø¬Ù…ÙŠØ¹ ÙŠØ¹Ø±Ù "ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø±" Ù„Ù„Ø¬ÙˆÙ„Ø©ØŒ Ù…Ø§ Ø¹Ø¯Ø§ Ø´Ø®Øµ ÙˆØ§Ø­Ø¯ Ù‡Ùˆ <b>"Ø§Ù„Ø¬Ø§Ø³ÙˆØ³"</b>.
                </p>
                <hr style="border-color: #444; opacity: 0.5;">
                <p style="font-size: 15px; color: #ccc;">
                    ğŸ¤– <b>Ø¯ÙˆØ± Ø§Ù„ØªØ·Ø¨ÙŠÙ‚:</b><br>
                    Ù‡Ø°Ø§ Ø§Ù„Ù†Ø¸Ø§Ù… Ù‡Ùˆ "Ø§Ù„Ø­ÙƒÙ…" Ø§Ù„Ø°ÙŠ Ø³ÙŠØ³Ø§Ø¹Ø¯ÙƒÙ… Ø¹Ù„Ù‰:
                    <ul style="padding-right: 20px; margin-top: 5px; color: var(--gold);">
                        <li>ØªÙˆØ²ÙŠØ¹ Ø§Ù„Ø£Ø¯ÙˆØ§Ø± Ø³Ø±Ø§Ù‹ (ØªÙ…Ø±ÙŠØ± Ø§Ù„Ù‡Ø§ØªÙ).</li>
                        <li>Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ØªØµÙˆÙŠØª ÙˆÙƒØ´Ù Ø§Ù„Ù†ØªØ§Ø¦Ø¬.</li>
                        <li>Ø§Ø­ØªØ³Ø§Ø¨ Ø§Ù„Ù†Ù‚Ø§Ø· ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹.</li>
                    </ul>
                </p>
                <hr style="border-color: #444; opacity: 0.5;">
                <p style="text-align: center; font-weight: bold; color: #fff; margin-top: 15px;">
                    Ø§Ø¬Ù„Ø³ÙˆØ§ Ù…Ø¹Ø§Ù‹ØŒ Ø£Ø¯Ø®Ù„ÙˆØ§ Ø£Ø³Ù…Ø§Ø¡ÙƒÙ…ØŒ ÙˆØ§Ø³ØªØ¹Ø¯ÙˆØ§ Ù„Ù„Ù‚Ù„ÙŠÙ„ Ù…Ù† Ø§Ù„ÙƒØ°Ø¨ ÙˆØ§Ù„Ø®Ø¯Ø§Ø¹ ÙˆØ§Ù„Ø°ÙƒØ§Ø¡! ğŸ˜‰
                </p>
            </div>

            <button onclick="hideTutorial()">ÙÙ‡Ù…ØªØŒ Ø±Ø¬ÙˆØ¹ Ù„Ù„Ù‚Ø§Ø¦Ù…Ø© âœ…</button>
        </div>
    </div>

    <script>
        // Ø±ÙˆØ§Ø¨Ø· Ø£ØµÙˆØ§Øª
        const audio = {
            flip: new Audio('https://www.soundjay.com/misc/sounds/page-flip-01a.mp3'),
            click: new Audio('https://www.soundjay.com/button/sounds/button-20.mp3'), // ØµÙˆØª Ù†Ø§Ø¹Ù…
            win: new Audio('https://www.soundjay.com/misc/sounds/bell-ringing-05.mp3')
        };

        function playSound(type) {
            try {
                audio[type].currentTime = 0;
                audio[type].play();
            } catch(e) { console.log("Audio Error"); }
        }

        // ØªÙØ¹ÙŠÙ„ Ø§Ù„ØµÙˆØª Ù„ÙƒÙ„ Ø§Ù„Ø£Ø²Ø±Ø§Ø± ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹
        document.querySelectorAll('button').forEach(btn => {
            btn.addEventListener('click', () => playSound('click'));
        });
    </script>

    <script>
        // 1. Ù‚Ø§Ø¦Ù…Ø© Ø®Ù„ÙÙŠØ§Øª Ø§Ù„ÙØ¦Ø§Øª
const bgImages = {
    football: "football.jpg", // Ù…Ù„Ø¹Ø¨
    animals: "animal.jpg", // ØºØ§Ø¨Ø©
    babalhara: "babalhara.jpg", // Ø­ÙŠ Ù‚Ø¯ÙŠÙ…
    food: "food.jpg", // Ø·Ø¹Ø§Ù…
    cities: "116.jpg", // Ù…Ø¯ÙŠÙ†Ø©
    tech: "tech.jpg", // ØªÙƒÙ†ÙˆÙ„ÙˆØ¬ÙŠØ§
    default: "https://images.unsplash.com/photo-1550684848-fac1c5b4e853?q=80&w=2070" // Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ
};
        // --- Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ---
        const data = {
            football: [
                // Ø£Ø³Ø§Ø·ÙŠØ± Ø§Ù„ÙƒÙ„Ø§Ø³ÙŠÙƒÙˆ (Ø±ÙŠØ§Ù„ Ù…Ø¯Ø±ÙŠØ¯ ÙˆØ¨Ø±Ø´Ù„ÙˆÙ†Ø© 1999-Ø§Ù„Ø¢Ù†)
                { common: "Ù„ÙŠÙˆÙ†ÙŠÙ„ Ù…ÙŠØ³ÙŠ", spy: "ÙƒØ±ÙŠØ³ØªÙŠØ§Ù†Ùˆ Ø±ÙˆÙ†Ø§Ù„Ø¯Ùˆ" },
                { common: "Ø²ÙŠÙ† Ø§Ù„Ø¯ÙŠÙ† Ø²ÙŠØ¯Ø§Ù†", spy: "Ù„ÙˆÙŠØ³ ÙÙŠØºÙˆ" },
                { common: "Ø³ÙŠØ±Ø¬ÙŠÙˆ Ø±Ø§Ù…ÙˆØ³", spy: "Ø¬ÙŠØ±Ø§Ø±Ø¯ Ø¨ÙŠÙƒÙŠÙ‡" },
                { common: "Ø£Ù†Ø¯Ø±ÙŠØ³ Ø¥Ù†ÙŠÙŠØ³ØªØ§", spy: "Ù„ÙˆÙƒØ§ Ù…ÙˆØ¯Ø±ÙŠØªØ´" },
                { common: "ØªØ´Ø§ÙÙŠ Ù‡ÙŠØ±Ù†Ø§Ù†Ø¯ÙŠØ²", spy: "ØªÙˆÙ†ÙŠ ÙƒØ±ÙˆØ³" },
                { common: "ÙƒØ±ÙŠÙ… Ø¨Ù†Ø²ÙŠÙ…Ø§", spy: "Ù„ÙˆÙŠØ³ Ø³ÙˆØ§Ø±ÙŠØ²" },
                { common: "Ø¥ÙŠÙƒØ± ÙƒØ§Ø³ÙŠØ§Ø³", spy: "ÙÙŠÙƒØªÙˆØ± ÙØ§Ù„Ø¯ÙŠØ²" },
                { common: "Ø±ÙˆÙ†Ø§Ù„Ø¯ÙŠÙ†ÙŠÙˆ", spy: "Ø±ÙˆÙ†Ø§Ù„Ø¯Ùˆ Ø§Ù„Ø¸Ø§Ù‡Ø±Ø©" },
                { common: "Ø±ÙˆØ¨Ø±ØªÙˆ ÙƒØ§Ø±Ù„ÙˆØ³", spy: "Ø¯Ø§Ù†ÙŠ Ø£Ù„ÙÙŠØ³" },
                { common: "Ù†ÙŠÙ…Ø§Ø±", spy: "ÙÙŠÙ†ÙŠØ³ÙŠÙˆØ³ Ø¬ÙˆÙ†ÙŠÙˆØ±" },
                { common: "Ø±Ø§Ø¤ÙˆÙ„ ØºÙˆÙ†Ø²Ø§Ù„ÙŠØ³", spy: "ØµØ§Ù…ÙˆÙŠÙ„ Ø¥ÙŠØªÙˆ" },
                { common: "ØºØ§Ø±ÙŠØª Ø¨ÙŠÙ„", spy: "Ø¹Ø«Ù…Ø§Ù† Ø¯ÙŠÙ…Ø¨ÙŠÙ„ÙŠ" },
                { common: "ÙƒØ§Ø±Ù„ÙŠØ³ Ø¨ÙˆÙŠÙˆÙ„", spy: "Ø¨ÙŠØ¨ÙŠ" },
                // Ø£Ø³Ø§Ø·ÙŠØ± Ø¹Ø§Ù„Ù…ÙŠØ© Ø£Ø®Ø±Ù‰ Ù„Ù„Ù…ÙˆØ§Ø²Ù†Ø©
                { common: "Ø¯ÙŠÙŠØºÙˆ Ù…Ø§Ø±Ø§Ø¯ÙˆÙ†Ø§", spy: "Ø¨ÙŠÙ„ÙŠÙ‡" },
                { common: "ÙƒÙŠÙ„ÙŠØ§Ù† Ù…Ø¨Ø§Ø¨ÙŠ", spy: "Ø¥ÙŠØ±Ù„ÙŠÙ†Øº Ù‡Ø§Ù„Ø§Ù†Ø¯" },
                { common: "Ù…Ø­Ù…Ø¯ ØµÙ„Ø§Ø­", spy: "Ø±ÙŠØ§Ø¶ Ù…Ø­Ø±Ø²" },
                { common: "Ø¨ÙˆÙÙˆÙ†", spy: "Ù†ÙˆÙŠØ±" }
            ],
            animals: [
        // Ø­ÙŠÙˆØ§Ù†Ø§Øª Ù…ÙØªØ±Ø³Ø©
        { common: "Ø£Ø³Ø¯", spy: "Ù†Ù…Ø±" },
        { common: "ÙÙ‡Ø¯", spy: "Ù†Ù…Ø±" },
        { common: "Ø°Ø¦Ø¨", spy: "Ø«Ø¹Ù„Ø¨" },
        { common: "Ø¯Ø¨", spy: "Ø¨Ø§Ù†Ø¯Ø§" },
        { common: "Ø¶Ø¨Ø¹", spy: "ÙƒÙ„Ø¨ Ø¨Ø±ÙŠ" },
        
        // Ø­ÙŠÙˆØ§Ù†Ø§Øª Ø£Ù„ÙŠÙØ© ÙˆÙ…Ø²Ø±Ø¹Ø©
        { common: "Ù‚Ø·Ø©", spy: "Ø£Ø±Ù†Ø¨" }, // ÙƒÙ„Ø§Ù‡Ù…Ø§ Ù„Ø·ÙŠÙ ÙˆØµØºÙŠØ±
        { common: "ÙƒÙ„Ø¨", spy: "Ø°Ø¦Ø¨" },
        { common: "Ø­ØµØ§Ù†", spy: "Ø­Ù…Ø§Ø±" },
        { common: "Ø¨Ù‚Ø±Ø©", spy: "Ø¬Ø§Ù…ÙˆØ³" },
        { common: "Ø®Ø±ÙˆÙ", spy: "Ù…Ø§Ø¹Ø²" },
        { common: "Ø¬Ù…Ù„", spy: "Ù„Ø§Ù…Ø§" },

        // Ø·ÙŠÙˆØ±
        { common: "ØµÙ‚Ø±", spy: "Ù†Ø³Ø±" },
        { common: "Ø­Ù…Ø§Ù…Ø©", spy: "Ø¹ØµÙÙˆØ±" },
        { common: "Ø¨Ø¨ØºØ§Ø¡", spy: "ÙƒÙ†Ø§Ø±ÙŠ" },
        { common: "Ø¨Ø·Ø©", spy: "ÙˆØ²Ø©" },
        { common: "Ø¯Ø¬Ø§Ø¬Ø©", spy: "Ø¯ÙŠÙƒ Ø±ÙˆÙ…ÙŠ" },
        { common: "Ø·Ø§ÙˆÙˆØ³", spy: "Ù†Ø¹Ø§Ù…Ø©" },
        { common: "ØºØ±Ø§Ø¨", spy: "Ø¨ÙˆÙ…Ø©" },

        // Ø¨Ø­Ø±ÙŠØ© ÙˆØ¨Ø±Ù…Ø§Ø¦ÙŠØ©
        { common: "Ù‚Ø±Ø´", spy: "Ø­ÙˆØª" },
        { common: "Ø¯ÙˆÙ„ÙÙŠÙ†", spy: "ÙÙ‚Ù…Ø©" },
        { common: "ØªÙ…Ø³Ø§Ø­", spy: "Ø³Ø­Ù„ÙŠØ©" },
        { common: "Ø³Ù„Ø­ÙØ§Ø©", spy: "Ø¶ÙØ¯Ø¹" },
        { common: "Ø£Ø®Ø·Ø¨ÙˆØ·", spy: "Ø­Ø¨Ø§Ø±" },

        // Ø­Ø´Ø±Ø§Øª ÙˆØ²ÙˆØ§Ø­Ù
        { common: "Ù†Ù…Ù„Ø©", spy: "Ù†Ø­Ù„Ø©" },
        { common: "Ø¹Ù†ÙƒØ¨ÙˆØª", spy: "Ø¹Ù‚Ø±Ø¨" },
        { common: "Ø°Ø¨Ø§Ø¨Ø©", spy: "Ø¨Ø¹ÙˆØ¶Ø©" },
        { common: "Ø«Ø¹Ø¨Ø§Ù†", spy: "Ø¯ÙŠØ¯Ø§Ù†" }
    ],
            babalhara: [
        // --- Ø§Ù„Ø²Ø¹Ø§Ù…Ø§Øª ÙˆÙƒØ¨Ø§Ø±ÙŠØ© Ø§Ù„Ø­Ø§Ø±Ø© ---
        { common: "Ø§Ù„Ø²Ø¹ÙŠÙ… Ø£Ø¨Ùˆ ØµØ§Ù„Ø­", spy: "Ø§Ù„Ø¹Ù‚ÙŠØ¯ Ø£Ø¨Ùˆ Ø´Ù‡Ø§Ø¨" },
        { common: "Ø£Ø¨Ùˆ Ø¹ØµØ§Ù…", spy: "Ø£Ø¨Ùˆ Ø­Ø§ØªÙ…" },
        { common: "Ø£Ø¨Ùˆ Ø¨Ø´ÙŠØ± (Ø§Ù„ÙØ±Ø§Ù†)", spy: "Ø£Ø¨Ùˆ Ø®Ø§Ø·Ø±" },
        { common: "Ø£Ø¨Ùˆ Ù‚Ø§Ø³Ù…", spy: "Ø£Ø¨Ùˆ Ù…Ø±Ø²ÙˆÙ‚" },
        { common: "Ø§Ù„Ø´ÙŠØ® Ø¹Ø¨Ø¯ Ø§Ù„Ø¹Ù„ÙŠÙ…", spy: "Ø£Ø¨Ùˆ Ù…Ø­Ù…ÙˆØ¯" },
        { common: "Ø£Ø¨Ùˆ Ø¸Ø§ÙØ±", spy: "Ø§Ù„Ù…Ø®ØªØ§Ø± Ø£Ø¨Ùˆ ØµÙŠØ§Ø­" },

        // --- Ø´Ø¨Ø§Ø¨ Ø§Ù„Ø­Ø§Ø±Ø© (Ø§Ù„Ù‚Ø¨Ø¶Ø§ÙŠØ§Øª) ---
        { common: "Ù…Ø¹ØªØ²", spy: "Ø®Ø§Ø·Ø±" },
        { common: "Ø¹ØµØ§Ù…", spy: "Ø¨Ø´ÙŠØ±" },
        { common: "Ø¹Ø¨Ø¯Ùˆ", spy: "Ø³Ù…Ø¹Ùˆ" },
        { common: "Ø£Ø¨Ùˆ Ø¹Ù†Ø§Ø¯ (ØµØ¨Ø­ÙŠ)", spy: "Ù…Ø³Ù„Ù…" },
        
        // --- Ø§Ù„Ø£Ø´Ø±Ø§Ø± ÙˆØ§Ù„Ù…Ø´Ø§ÙƒÙ„ (Ø£ØµØ¹Ø¨ ÙØ¦Ø©) ---
        { common: "Ø§Ù„Ø¥Ø¯Ø¹Ø´Ø±ÙŠ", spy: "Ø£Ø¨Ùˆ Ù†Ø§Ø±" },
        { common: "Ø§Ù„Ù†Ù…Ø³", spy: "Ø£Ø¨Ùˆ ØºØ§Ù„Ø¨" },
        { common: "Ø£Ø¨Ùˆ Ø³Ø§Ø·ÙˆØ±", spy: "Ø£Ø¨Ùˆ Ø¯Ø±Ø§Ø¹" },
        { common: "ØµØ·ÙŠÙ Ø§Ù„Ø£Ø¹Ù…Ù‰", spy: "Ù…Ø£Ù…ÙˆÙ† Ø¨ÙŠÙƒ" },
        
        // --- Ø§Ù„Ø­ÙƒÙˆÙ…Ø© ÙˆØ§Ù„Ù…Ø®ÙØ± ---
        { common: "Ø£Ø¨Ùˆ Ø¬ÙˆØ¯Øª", spy: "Ù†ÙˆØ±ÙŠ" },
        { common: "Ù†ÙˆØ±ÙŠ", spy: "Ø³Ù…Ø¹Ùˆ Ø§Ø¨Ù† Ø§Ù„Ø­Ø§Ø±Ø³" },

        // --- Ù†Ø³ÙˆØ§Ù† Ø§Ù„Ø­Ø§Ø±Ø© (ÙƒÙŠØ¯ Ø§Ù„Ù†Ø³Ø§) ---
        { common: "Ø³Ø¹Ø§Ø¯ (Ø£Ù… Ø¹ØµØ§Ù…)", spy: "ÙØ±ÙŠØ§Ù„" },
        { common: "Ù„Ø·ÙÙŠØ©", spy: "Ù‡Ø¯Ù‰" },
        { common: "Ø£Ù… Ø²ÙƒÙŠ", spy: "Ø£Ù… Ø¨Ø´ÙŠØ±" },
        { common: "Ø¨ÙˆØ±Ø§Ù†", spy: "Ø¯Ù„Ø§Ù„" },
        { common: "Ø¬Ù…ÙŠÙ„Ø©", spy: "Ø²Ù‡Ø±Ø©" },
        { common: "ÙÙˆØ²ÙŠØ©", spy: "Ø£Ù… Ø®Ø§Ø·Ø±" }, // ÙÙˆØ²ÙŠØ© Ø´Ø®ØµÙŠØ© Ù…Ù…ÙŠØ²Ø© Ø¬Ø¯Ø§Ù‹

        // --- Ø´Ø®ØµÙŠØ§Øª Ø·Ø±ÙŠÙØ© ÙˆÙ…Ù…ÙŠØ²Ø© ---
        { common: "Ø£Ø¨Ùˆ Ø¨Ø¯Ø±", spy: "Ø£Ø¨Ùˆ Ø§Ù„Ø­ÙƒÙ…" }, // Ø§Ù„Ù…Ù‚Ø§Ø±Ù†Ø© Ù‡Ù†Ø§ Ù…Ø¶Ø­ÙƒØ© (Ø§Ù„Ø£Ø¶Ø¹Ù Ø¶Ø¯ Ø§Ù„Ø£Ù‚ÙˆÙ‰)
        { common: "Ø£Ù… Ø¬ÙˆØ²ÙŠÙ", spy: "Ø£Ù… Ø²ÙƒÙŠ" }
    ],
            food: [
        // --- Ø§Ù„Ù…Ø·Ø¨Ø® Ø§Ù„Ø¹Ø±Ø§Ù‚ÙŠ Ø§Ù„Ø£ØµÙŠÙ„ ---
        { common: "Ø¯ÙˆÙ„Ù…Ø©", spy: "ÙŠØ§Ø¨Ø±Ø§Ø®" }, // Ù…Ù‚Ø§Ø±Ù†Ø© ØµØ¹Ø¨Ø© Ø¬Ø¯Ø§Ù‹
        { common: "Ø³Ù…Ùƒ Ù…Ø³ÙƒÙˆÙ", spy: "Ø³Ù…Ùƒ Ù…Ù‚Ù„ÙŠ" },
        { common: "Ø¨Ø§Ø¬Ø©", spy: "ØªØ´Ø±ÙŠØ¨ Ù„Ø­Ù…" },
        { common: "Ù‚ÙŠÙ…Ø© Ù†Ø¬ÙÙŠØ©", spy: "ÙŠØ®Ù†ÙŠ (Ù…Ø±Ù‚)" },
        { common: "ÙƒØ¨Ø§Ø¨ Ø¹Ø±Ø§Ù‚ÙŠ", spy: "ØªÙƒØ©" },
        { common: "ÙƒÙ„ÙŠØ¬Ø©", spy: "Ø¨Ù‚Ù„Ø§ÙˆØ©" },
        { common: "Ù‚ÙŠÙ…Ø± Ø¹Ø±Ø¨", spy: "Ø¬Ø¨Ù† Ø¹Ø±Ø¨" },
        { common: "ÙƒØ§Ù‡ÙŠ", spy: "ÙƒÙŠÙ…Ø±" },
        { common: "Ø¯Ù‡ÙŠÙ†", spy: "Ø²Ù„Ø§Ø¨ÙŠØ©" },
        { common: "Ù„Ø¨Ù„Ø¨ÙŠ", spy: "Ø¨Ø§Ù‚Ù„Ø§Ø¡" },

        // --- Ø£ÙƒÙ„Ø§Øª Ø¹Ø±Ø¨ÙŠØ© ÙˆØ´Ø±Ù‚ÙŠØ© ---
        { common: "Ù…Ù†Ø³Ù", spy: "ÙƒØ¨Ø³Ø©" },
        { common: "Ø¨Ø±ÙŠØ§Ù†ÙŠ", spy: "Ù…Ù‚Ù„ÙˆØ¨Ø©" },
        { common: "Ø¨ÙŠØ°Ù†Ø¬Ø§Ù†ÙŠØ©", spy: "Ø­Ù…Øµ Ø¨Ø·Ø­ÙŠÙ†Ø©" },
        { common: "Ø´Ø§ÙˆØ±Ù…Ø§", spy: "ÙÙ„Ø§ÙÙ„" },
        { common: "ØªØ¨ÙˆÙ„Ø©", spy: "ÙØªÙˆØ´" },
        { common: "ÙƒØ´Ø±ÙŠ", spy: "Ù…Ø¹ÙƒØ±ÙˆÙ†Ø©" },
        { common: "Ù…Ø­Ø§Ø´ÙŠ", spy: "ÙˆØ±Ù‚ Ø¹Ù†Ø¨" },

        // --- Ø£ÙƒÙ„ Ø¹Ø§Ù„Ù…ÙŠ ÙˆØ³Ø±ÙŠØ¹ ---
        { common: "Ø¨ÙŠØªØ²Ø§", spy: "ÙØ·Ø§Ø¦Ø±" },
        { common: "Ù‡Ù…Ø¨Ø±ÙƒØ±", spy: "Ø³ØªÙŠÙƒ Ù„Ø­Ù…" },
        { common: "ÙƒÙ†ØªØ§ÙƒÙŠ (Ø¯Ø¬Ø§Ø¬ Ù…Ù‚Ù„ÙŠ)", spy: "Ø±ÙŠØ²Ùˆ" },
        { common: "Ø³ÙˆØ´ÙŠ", spy: "Ø§Ù†Ø¯ÙˆÙ…ÙŠ" }, // Ø£ÙƒÙ„ Ø¢Ø³ÙŠÙˆÙŠ
        { common: "Ø³Ø¨Ø§ØºÙŠØªÙŠ", spy: "Ù„Ø§Ø²Ø§Ù†ÙŠØ§" },
        { common: "Ø¨Ø·Ø§Ø·Ø§ Ù…Ù‚Ù„ÙŠØ©", spy: "Ø´ÙŠØ¨Ø³" },
        { common: "Ø¢ÙŠØ³ ÙƒØ±ÙŠÙ…", spy: "ÙƒØ§Ø³ØªØ±" }
    ],
            cities: [
        // --- Ù…Ø¯Ù† Ø¹Ø±Ø§Ù‚ÙŠØ© ---
        { common: "Ø¨ØºØ¯Ø§Ø¯", spy: "Ø§Ù„Ø¨ØµØ±Ø©" },
        { common: "Ø§Ù„Ù†Ø¬Ù", spy: "ÙƒØ±Ø¨Ù„Ø§Ø¡" }, // Ø£ØµØ¹Ø¨ Ù…Ù‚Ø§Ø±Ù†Ø© Ù„Ù„Ù…Ù‚Ø¯Ø³Ø§Øª
        { common: "Ø§Ù„Ù…ÙˆØµÙ„", spy: "Ø£Ø±Ø¨ÙŠÙ„" },
        { common: "Ø§Ù„Ø³Ù„ÙŠÙ…Ø§Ù†ÙŠØ©", spy: "Ø¯Ù‡ÙˆÙƒ" },
        { common: "Ø§Ù„Ø­Ù„Ø© (Ø¨Ø§Ø¨Ù„)", spy: "Ø§Ù„ÙƒÙˆØª" },
        { common: "Ø§Ù„Ù†Ø§ØµØ±ÙŠØ©", spy: "Ø§Ù„Ø¹Ù…Ø§Ø±Ø©" },
        { common: "Ø§Ù„Ø£Ù†Ø¨Ø§Ø±", spy: "ØµÙ„Ø§Ø­ Ø§Ù„Ø¯ÙŠÙ†" },

        // --- Ø¹ÙˆØ§ØµÙ… ÙˆÙ…Ø¯Ù† Ø¹Ø±Ø¨ÙŠØ© ---
        { common: "Ø¯Ø¨ÙŠ", spy: "Ø§Ù„Ø¯ÙˆØ­Ø©" }, // Ù…Ø¯Ù† Ø®Ù„ÙŠØ¬ÙŠØ© Ø­Ø¯ÙŠØ«Ø©
        { common: "Ø§Ù„Ø±ÙŠØ§Ø¶", spy: "Ø¬Ø¯Ø©" },
        { common: "Ù…ÙƒØ© Ø§Ù„Ù…ÙƒØ±Ù…Ø©", spy: "Ø§Ù„Ù…Ø¯ÙŠÙ†Ø© Ø§Ù„Ù…Ù†ÙˆØ±Ø©" },
        { common: "Ø¨ÙŠØ±ÙˆØª", spy: "Ø¯Ù…Ø´Ù‚" },
        { common: "Ø¹Ù…Ø§Ù†", spy: "Ø§Ù„Ù‚Ø¯Ø³" },
        { common: "Ø§Ù„ÙƒÙˆÙŠØª", spy: "Ø§Ù„Ù…Ù†Ø§Ù…Ø©" },
        { common: "ØªÙˆÙ†Ø³", spy: "Ø§Ù„Ø¯Ø§Ø± Ø§Ù„Ø¨ÙŠØ¶Ø§Ø¡" },

        // --- Ù…Ø¯Ù† Ø¹Ø§Ù„Ù…ÙŠØ© ---
        { common: "Ù„Ù†Ø¯Ù†", spy: "Ø¨Ø§Ø±ÙŠØ³" }, // Ø£ÙˆØ±ÙˆØ¨Ø§
        { common: "Ù…Ø¯Ø±ÙŠØ¯", spy: "Ø¨Ø±Ø´Ù„ÙˆÙ†Ø©" }, // Ø¥Ø³Ø¨Ø§Ù†ÙŠØ§
        { common: "Ø±ÙˆÙ…Ø§", spy: "Ù…ÙŠÙ„Ø§Ù†Ùˆ" }, // Ø¥ÙŠØ·Ø§Ù„ÙŠØ§
        { common: "Ù†ÙŠÙˆÙŠÙˆØ±Ùƒ", spy: "Ù„ÙˆØ³ Ø£Ù†Ø¬Ù„ÙˆØ³" }, // Ø£Ù…Ø±ÙŠÙƒØ§
        { common: "Ø·ÙˆÙƒÙŠÙˆ", spy: "Ø³ÙŠÙˆÙ„" }, // Ø¢Ø³ÙŠØ§
        { common: "Ø¥Ø³Ø·Ù†Ø¨ÙˆÙ„", spy: "Ø£Ù†Ù‚Ø±Ø©" },
        { common: "Ù…ÙˆØ³ÙƒÙˆ", spy: "Ø¨Ø±Ù„ÙŠÙ†" },
        { common: "Ø·Ù‡Ø±Ø§Ù†", spy: "Ø£ØµÙÙ‡Ø§Ù†" }
    ],
            tech: [
                { common: "Ø¢ÙŠÙÙˆÙ†", spy: "Ø³Ø§Ù…Ø³ÙˆÙ†Ø¬" },
                { common: "ÙÙŠØ³Ø¨ÙˆÙƒ", spy: "ØªÙˆÙŠØªØ±" },
                { common: "Ù„Ø§Ø¨ØªÙˆØ¨", spy: "Ø¢ÙŠØ¨Ø§Ø¯" },
                { common: "ÙˆØ§ÙŠ ÙØ§ÙŠ", spy: "Ø¨Ù„ÙˆØªÙˆØ«" }
            ]
        };

        // --- Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ø­Ø§Ù„Ø© ---
        let players = [];
        let difficulty = 'hard';
        let currentSpyIdx = -1;
        let wordObj = {};
        let currentPlayerIdx = 0;
        let votes = [];
        let currentVoterIdx = 0;

        // --- Ø§Ù„Ø¯ÙˆØ§Ù„ ---

        function processNames() {
            const txt = document.getElementById('playerNamesInput').value;
            const lines = txt.split('\n').filter(l => l.trim() !== '');
            if (lines.length < 3) {
                alert("âš ï¸ ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ 3 Ù„Ø§Ø¹Ø¨ÙŠÙ† Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„");
                return;
            }
            players = lines.map(n => ({ name: n.trim(), score: 0 }));
            switchScreen('screen-setup', 'screen-difficulty');
        }

        function showRules(level) {
            difficulty = level;
            switchScreen('screen-difficulty', 'screen-rules');
            const title = document.getElementById('rulesTitle');
            const list = document.getElementById('rulesList');
            
            if (level === 'hard') {
                title.innerText = "ğŸ”¥ Ø§Ù„Ù…Ø³ØªÙˆÙ‰ Ø§Ù„ØµØ¹Ø¨";
                list.innerHTML = `
                    <li>ÙŠÙˆØ¬Ø¯ Ø¬Ø§Ø³ÙˆØ³ ÙˆØ§Ø­Ø¯ Ø¨ÙƒÙ„Ù…Ø© Ù…Ø®ØªÙ„ÙØ© Ù„ÙƒÙ† <b>Ù…Ø´Ø§Ø¨Ù‡Ø© Ø¬Ø¯Ø§Ù‹</b>.</li>
                    <li>Ø§Ù„Ø¬Ø§Ø³ÙˆØ³ <b>Ù„Ø§ ÙŠØ¹Ù„Ù…</b> Ø£Ù†Ù‡ Ø§Ù„Ø¬Ø§Ø³ÙˆØ³ØŒ ÙˆÙŠØ±Ù‰ ÙƒÙ„Ù…ØªÙ‡ ÙƒØ£Ù†Ù‡Ø§ Ø¹Ø§Ø¯ÙŠØ©.</li>
                    <li>Ø¹Ù„ÙŠÙ‡ Ø§ÙƒØªØ´Ø§Ù Ø£Ù†Ù‡ Ø§Ù„Ø¯Ø®ÙŠÙ„ Ù…Ù† Ø³ÙŠØ§Ù‚ Ø§Ù„ÙƒÙ„Ø§Ù…!</li>
                `;
            } else {
                title.innerText = "ğŸ˜Œ Ø§Ù„Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø³Ù‡Ù„";
                list.innerHTML = `
                    <li>Ø§Ù„Ø¬Ø§Ø³ÙˆØ³ Ø³ØªØ¸Ù‡Ø± Ù„Ù‡ Ø¨Ø·Ø§Ù‚Ø© Ø­Ù…Ø±Ø§Ø¡ ØªØ®Ø¨Ø±Ù‡ Ø£Ù†Ù‡ Ø§Ù„Ø¬Ø§Ø³ÙˆØ³.</li>
                    <li>Ø§Ù„Ø¬Ø§Ø³ÙˆØ³ Ù„Ø§ ÙŠÙ…Ù„Ùƒ ÙƒÙ„Ù…Ø©ØŒ Ø¹Ù„ÙŠÙ‡ Ø§Ù„ØªØ£Ù„ÙŠÙ ÙˆØ®Ø¯Ø§Ø¹ÙƒÙ…!</li>
                `;
            }
        }

        function confirmDifficulty() {
            switchScreen('screen-rules', 'screen-category');
        }

        function goBackToDifficulty() {
            switchScreen('screen-rules', 'screen-difficulty');
        }

        function startGame(cat) {
            // 1. ØªØºÙŠÙŠØ± Ø§Ù„Ø®Ù„ÙÙŠØ© Ø­Ø³Ø¨ Ø§Ù„ÙØ¦Ø© (Ù‡Ø°Ø§ Ù‡Ùˆ Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„Ø¬Ø¯ÙŠØ¯)
            const bg = bgImages[cat] || bgImages.default;
            document.body.style.backgroundImage = `linear-gradient(rgba(0, 0, 0, 0.8), rgba(0, 0, 0, 0.9)), url('${bg}')`;

            // 2. Ø¨Ø§Ù‚ÙŠ Ù…Ù†Ø·Ù‚ Ø§Ù„Ù„Ø¹Ø¨Ø© Ø§Ù„Ø·Ø¨ÙŠØ¹ÙŠ
            const arr = data[cat] || data.football;
            wordObj = arr[Math.floor(Math.random() * arr.length)];
            currentSpyIdx = Math.floor(Math.random() * players.length);
            currentPlayerIdx = 0;
            updatePassScreen();
            switchScreen('screen-category', 'screen-pass');
        }

        function updatePassScreen() {
            if (currentPlayerIdx >= players.length) {
                switchScreen('screen-reveal', 'screen-discussion');
                return;
            }
            // Ø¥Ø¹Ø§Ø¯Ø© Ø¶Ø¨Ø· Ø§Ù„Ø¨Ø·Ø§Ù‚Ø© Ù„ÙˆØ¶Ø¹Ù‡Ø§ Ø§Ù„Ø·Ø¨ÙŠØ¹ÙŠ
            document.querySelector('.flip-card').classList.remove('flipped');
            document.getElementById('screen-reveal').classList.add('hidden');
            document.getElementById('screen-pass').classList.remove('hidden');
            document.getElementById('currentPlayerName').innerText = players[currentPlayerIdx].name;
        }

        function showRoleScreen() {
            switchScreen('screen-pass', 'screen-reveal');
            
            const isSpy = (currentPlayerIdx === currentSpyIdx);
            const name = players[currentPlayerIdx].name;
            const wordEl = document.getElementById('theWord');
            const hintEl = document.getElementById('spyHint');

            document.getElementById('revealName').innerText = name;

            // Ø§Ù„Ù…Ù†Ø·Ù‚ Ø§Ù„Ø­Ø§Ø³Ù… Ù„Ù„Ø£Ù„ÙˆØ§Ù† ÙˆØ§Ù„Ù†ØµÙˆØµ
            if (isSpy) {
                if (difficulty === 'easy') {
                    // Ø§Ù„Ø³Ù‡Ù„: Ø£Ø­Ù…Ø± ÙˆØµØ±ÙŠØ­
                    wordEl.innerText = "Ø£Ù†Øª Ø§Ù„Ø¬Ø§Ø³ÙˆØ³! ğŸ¤«";
                    wordEl.style.color = "#c0392b";
                    hintEl.innerText = "Ù„Ø§ ÙŠÙˆØ¬Ø¯ ÙƒÙ„Ù…Ø©.. Ø§Ø®Ø¯Ø¹Ù‡Ù…!";
                } else {
                    // Ø§Ù„ØµØ¹Ø¨: Ø£Ø®Ø¶Ø± ÙˆÙ…Ù…ÙˆÙ‡ (Ù†ÙØ³ Ù„ÙˆÙ† Ø§Ù„Ù…ÙˆØ§Ø·Ù†ÙŠÙ†)
                    wordEl.innerText = wordObj.spy;
                    wordEl.style.color = "#27ae60"; // âœ… Ø§Ù„Ù„ÙˆÙ† Ø§Ù„Ø£Ø®Ø¶Ø± (ØªØµØ­ÙŠØ­ Ø§Ù„Ø«ØºØ±Ø©)
                    hintEl.innerText = "ÙƒÙ„Ù…ØªÙƒ Ø§Ù„Ø³Ø±ÙŠØ© (Ø§Ø­ÙØ¸Ù‡Ø§)";
                }
            } else {
                // Ù…ÙˆØ§Ø·Ù†
                wordEl.innerText = wordObj.common;
                wordEl.style.color = "#27ae60";
                hintEl.innerText = "ÙƒÙ„Ù…ØªÙƒ Ø§Ù„Ø³Ø±ÙŠØ© (Ø§Ø­ÙØ¸Ù‡Ø§)";
            }
        }

        function flipCard() {
            playSound('flip');
            document.querySelector('.flip-card').classList.toggle('flipped');
        }

        function nextPlayer() {
            currentPlayerIdx++;
            updatePassScreen();
        }

        // --- Ø§Ù„ØªØµÙˆÙŠØª ---

        function startVotingSetup() {
            currentVoterIdx = 0;
            votes = new Array(players.length).fill(-1);
            switchScreen('screen-discussion', 'screen-vote-pass');
            updateVotePass();
        }

        function updateVotePass() {
            if (currentVoterIdx >= players.length) {
                calculateResults();
                return;
            }
            document.getElementById('screen-vote-action').classList.add('hidden');
            document.getElementById('screen-vote-pass').classList.remove('hidden');
            document.getElementById('currentVoterName').innerText = players[currentVoterIdx].name;
        }

        function showVotingScreen() {
            switchScreen('screen-vote-pass', 'screen-vote-action');
            document.getElementById('voterNameAction').innerText = players[currentVoterIdx].name;
            
            const container = document.getElementById('votingButtonsContainer');
            container.innerHTML = '';
            
            players.forEach((p, idx) => {
                if (idx !== currentVoterIdx) {
                    const btn = document.createElement('button');
                    btn.className = 'vote-btn';
                    btn.innerText = `Ø£Ø´Ùƒ ÙÙŠ ${p.name}`;
                    btn.onclick = () => {
                        playSound('click');
                        votes[currentVoterIdx] = idx;
                        currentVoterIdx++;
                        updateVotePass();
                    };
                    container.appendChild(btn);
                }
            });
        }

        function calculateResults() {
            switchScreen('screen-vote-action', 'screen-results');
            playSound('win');

            // Ø¹Ø±Ø¶ Ø§Ù„Ø­Ù‚Ø§Ø¦Ù‚
            document.getElementById('realSpyName').innerText = players[currentSpyIdx].name;
            document.getElementById('citizenWordDisplay').innerText = wordObj.common;
            document.getElementById('spyWordResultDisplay').innerText = (difficulty === 'easy') ? "(Ù„Ø§ ÙŠÙˆØ¬Ø¯)" : wordObj.spy;

            // Ø§Ù„Ø­Ø³Ø§Ø¨
            let votesAgainstSpy = 0;

            for (let i = 0; i < players.length; i++) {
                // Ø¥Ø°Ø§ Ù„Ù… ÙŠÙƒÙ† Ù‡Ùˆ Ø§Ù„Ø¬Ø§Ø³ÙˆØ³ØŒ ÙˆØµÙˆØª Ø¶Ø¯ Ø§Ù„Ø¬Ø§Ø³ÙˆØ³ = +10 Ù†Ù‚Ø§Ø·
                if (i !== currentSpyIdx && votes[i] === currentSpyIdx) {
                    players[i].score += 10;
                }
                // Ø­Ø³Ø§Ø¨ Ø§Ù„Ø£ØµÙˆØ§Øª Ø¶Ø¯ Ø§Ù„Ø¬Ø§Ø³ÙˆØ³
                if (votes[i] === currentSpyIdx) votesAgainstSpy++;
            }

            // Ù†Ù‚Ø§Ø· Ø§Ù„Ø¬Ø§Ø³ÙˆØ³: +5 Ø¹Ù† ÙƒÙ„ Ø´Ø®Øµ Ù„Ù… ÙŠØµÙˆØª Ø¶Ø¯Ù‡
            const survivors = (players.length - 1) - votesAgainstSpy;
            players[currentSpyIdx].score += (survivors * 5);

            // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¬Ø¯ÙˆÙ„
            const tbody = document.getElementById('scoreTableBody');
            tbody.innerHTML = '';
            
            // ØªØ±ØªÙŠØ¨
            [...players].sort((a,b) => b.score - a.score).forEach(p => {
                const tr = document.createElement('tr');
                tr.innerHTML = `
                    <td style="color:white; font-weight:bold;">${p.name}</td>
                    <td style="color:var(--gold); font-weight:bold;">${p.score}</td>
                `;
                tbody.appendChild(tr);
            });
        }

        function playAgain() {
            switchScreen('screen-results', 'screen-category');
        }

        // Ø¯Ø§Ù„Ø© Ù…Ø³Ø§Ø¹Ø¯Ø© Ù„Ù„ØªÙ†Ù‚Ù„
        function switchScreen(hideId, showId) {
            document.getElementById(hideId).classList.add('hidden');
            document.getElementById(showId).classList.remove('hidden');
        }
        // --- Ø¯ÙˆØ§Ù„ ØªØ´ØºÙŠÙ„ Ø§Ù„Ø´Ø±Ø­ ---
        function showTutorial() {
            document.getElementById('screen-setup').classList.add('hidden');
            document.getElementById('screen-tutorial').classList.remove('hidden');
        }

        function hideTutorial() {
            document.getElementById('screen-tutorial').classList.add('hidden');
            document.getElementById('screen-setup').classList.remove('hidden');
        }
    </script>
</body>
</html>




